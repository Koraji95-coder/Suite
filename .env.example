# ============================================
# Suite Application Environment Variables
# ============================================
# Copy this file to .env and fill in your values
# All Vite variables must start with VITE_ to be exposed to the frontend

# ── Supabase Configuration ──────────────────
# Required for authentication, database, and storage
# Get these from: https://app.supabase.com/project/_/settings/api

VITE_SUPABASE_URL=https://your-project.supabase.co
VITE_SUPABASE_ANON_KEY=your-anon-key-here
# Optional explicit auth redirect target for email confirmations
# Useful in containers/codespaces where localhost in email links may be wrong
# Example: https://<your-forwarded-url>/login
VITE_AUTH_REDIRECT_URL=

# ── ZeroClaw Agent Configuration ────────────
# Optional - only needed if using the AI agent features
# ZeroClaw agent gateway endpoint for AI-powered automation

VITE_AGENT_URL=http://127.0.0.1:3000
VITE_AGENT_GATEWAY_URL=http://127.0.0.1:3000
VITE_AGENT_TIMEOUT=30000
# Required by default for agent task execution
VITE_AGENT_WEBHOOK_SECRET=
# Default: true. Set to false only for local troubleshooting.
VITE_AGENT_REQUIRE_WEBHOOK_SECRET=true
# Agent transport mode (direct = browser talks to gateway, backend = brokered)
VITE_AGENT_TRANSPORT=direct
# When using backend transport, the frontend talks to this path (proxied in dev)
VITE_AGENT_BROKER_URL=/api/agent

# ── Dev Admin Access (Command Center) ──────
# Development-only admin allowlist for /app/command-center
# Use one of the options below:
VITE_DEV_ADMIN_EMAIL=your-email@example.com
# VITE_DEV_ADMIN_EMAILS=you@example.com,teammate@example.com

# ── Ground-Grid-Generation Backend ──────────
# Optional - only needed for AutoCAD integration features
# Python Flask API server for AutoCAD COM automation (Windows only)

VITE_COORDINATES_BACKEND_URL=http://localhost:5000
# Dev server proxy target for backend /api endpoints
# Used by Vite only (dev). In production, prefer reverse-proxying under the same origin.
VITE_BACKEND_URL=http://localhost:5000

# ── API Security ─────────────────────────────
# API key for authenticating requests to backend services
# IMPORTANT: Change this in production! This key is used by:
# - Coordinates Grabber API (Flask backend)
# Generate a secure key: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"

VITE_API_KEY=dev-only-insecure-key-change-in-production
# Backend-only secret (not exposed to the frontend bundle)
# For local dev you can keep this in sync with VITE_API_KEY.
API_KEY=

# ── Backend-Only Agent Broker (Recommended) ─
# These values are used by the Python backend to broker pairing + webhook calls.
# Do NOT prefix with VITE_ (these are server-only).

# Supabase backend auth (needed to validate session tokens server-side)
SUPABASE_URL=
# Preferred: service role key for server-side auth lookups
SUPABASE_SERVICE_ROLE_KEY=
# Alternative: Legacy HS256 JWT secret (leave empty if using new ECC keys)
SUPABASE_JWT_SECRET=
# Optional fallback for dev-only auth lookups (not recommended for prod)
SUPABASE_ANON_KEY=

# ZeroClaw gateway (local) and webhook secret
AGENT_GATEWAY_URL=http://127.0.0.1:3000
AGENT_WEBHOOK_SECRET=

# Session cookie settings for agent broker
AGENT_SESSION_TTL_SECONDS=21600
AGENT_SESSION_SECURE=false
AGENT_SESSION_SAMESITE=Strict
# Require webhook secret for broker requests (recommended)
AGENT_REQUIRE_WEBHOOK_SECRET=true

# ============================================
# Notes:
# ============================================
# - All VITE_* variables are embedded in the frontend bundle
#   DO NOT put sensitive secrets here (use backend env vars instead)
# - The Supabase anon key is safe to expose (it's row-level security enforced)
# - Agent and backend URLs default to localhost for development
# - Production deployments should override these with actual domains
